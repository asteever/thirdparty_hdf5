************************************************************************
*HDF5 Build and Install Instructions for Windows XP with INTEL Compiler*
*                          (Short Version)                             *
************************************************************************

Notes: This short instruction is written for users who want to quickly
       build HDF5 library and tools from the HDF5 source code package
       with Intel Fortran 9.1 Compiler with Microsoft Visual Studio .NET or 2005
       but do not want to know HDF5 building and installation details on 
       Windows XP.
          
       For detailed HDF5 build and install information, or if you have
       trouble following any steps in the instructions, please refer to
       INSTALL_Windows.txt for further information.
      
       For users who would like to build and test HDF5 package from the
       command line, please refer to
       INSATLL_Windows_From_Command_Line.txt.
       
       We no longer support the Intel C compiler, Intel Fortran 7.x or 8.x.
       However, if you would still like to use one of these compilers,
       documentation is available online at
       http://hdfgroup.org/windows/docs/hdf518/dep/Install_Windows_Dep_Intel.txt
        
WARNINGS:
       Please read CAREFULLY about HDF5 build and install preconditions 
       and notes in INSTALL_Windows.txt before starting reading this 
       instruction.

========================================================================
                      Extra Preconditions and Notes 
========================================================================
                       
     a. Setup Szip Library for Intel Compiler.

     Intel compilers use different Szip library from other compilers.
     Szip source codes or binaries for Intel compiler can be downloaded
     from the following address:

     ftp://ftp.hdfgroup.org/lib-external/szip/2.0/bin/windows.

     b. Set up path for external libraries and headers

      Skip this part if you don't want to use ANY compression features
      provided by HDF5.  Instead, read Section V of Install_Windowx.txt.

      You have to read this part even if you want to use only Zlib
      or Szip.  You also need to read Section V of Install_Windowx.txt.

      Invoke Microsoft Visual C++ .Net 2003 or 2005.  From the main
      menu, Go to Tools > Options > Intel(R) Fortran.
      In the right panel, make sure your "Selected Compiler" is Intel Fortran 9.1.
      Click the right-most box for "Libraries",
      Add Zlib and Szip Library Path (c:\zlib122\lib, c:\szip\dll for example)
      Click rightmost box for "Includes",
      Add Zlib and Szip header path (c:\zlib122\include c:\szip\include, for example).
      Then click "OK".

========================================================================
               Part I. Build with Intel Fortran 
       Compiler 9.1 under MSVS C++ .Net 2003 / 2005 Environment
========================================================================

      Note: This step will build HDF5 Static and DLL C and C++
            Library using .Net 2003 or Visual Studio 2005 Compiler as well as
            HDF5 Static and High Level Fortran Library using Intel
            Fortran 9.1 Compiler.


      1.1 Open all.dsw and Convert Project Files (.dsp) to Visual
            C++ .Net Format (.vcproj)

              Invoke Microsoft Visual C++ .Net 2003.  From the main menu, go to
              "File" and select "Open Solution". In the "Open Solution" window,
              Change "Files of type" to "All Project Files". Choose "all.dsw"
              under the directory c:\MyHDFstuff\hdf5\windows\proj\all. In the
              pop up window, choose "Yes To All" to convert all project files
              to Visual C++ .Net project format.

      1.2 Extract Compaq Fortran Project Files

       a. Select project "flush1_fortran" in the Solution Explorer
       window. In the Project menu, select
       "Extract Compaq Visual Fortran Project".

       Do the same thing for the following project files, but for now, skip
       the projects labelled "**SKIP**":

        flush1_fortrandll
        flush2_fortran
        flush2_fortrandll
        hdf5_fortran
        hdf5_fortrandll
        **SKIP** libtest_fortran
        libtest_fortrandll
        testhdf5_fortran
        testhdf5_fortrandll
        **SKIP** hdf5_hl_fortran
        hdf5_hl_fortrandll
        hl_test_image_fortran
        hl_test_image_fortrandll
        hl_test_lite_fortran
        hl_test_lite_fortrandll
        hl_test_table_fortran
        hl_test_table_fortrandll


       b. Select project "libtest_fortran" in the Solution
       Explorer window. In the Project menu, select
       "Extract Compaq Visual Fortran Project". Since Project
       file "libtest_fortran" contain both C and Fortran code,
       you will be asked to specify which project, either
       Fortran or C/C++, will serve as the main project for
       this mixed language projects. Choose
       "The Intel Fortran project" as the the main project and
       click "OK".

       Do the same thing for hdf5_hl_fortran.

      1.3 Change project dependencies


      To check the project dependencies:
      
      Right click the selected project, you should see "Project Dependencies" on the menu,
      click "Project Dependencies", You should see a "Project Dependencies" panel, with
      the selected project and the projects it depends on checked under "Depends on" list.

      Make sure all intel fortran projects have their corrsponding dependencies as follows:

      hdf5_fortran:             hdf5,                 hdf5_f90cstub

      hdf5_fortrandll:          hdf5dll,              hdf5_f90cstubdll

      libtest_fortran:          libtest,              libtest_fotran_lib

      libtest_fortrandll:       libtest_cstubdll,     libtestD

      hdf5_hl_fortran:          hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         hdf5_hl,
                                hdf5_hl_fortran_lib

      hdf5_hl_fortrandll:       hdf5dll,              hdf5_hldll,
                                hdf5_hl_f90cstubdll,  hdf5_fortrandll,
                                hdf5_f90cstubdll


      flush1_fortran:           hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         libtest,
                                libtest_fortran,      libtest_fortran_lib
                                
      flush1_fortrandll:        hdf5_f90cstubdll,     hdf5_fortrandll,
                                hdf5dll,              libtest_fortrandll
                                libtest_cstubdll,     libtestD

      flush2_fortran:           hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         libtest,
                                libtest_fortran,      libtest_fortran_lib

      flush2_fortrandll:        hdf5_f90cstubdll,     hdf5_fortrandll,
                                hdf5dll,              libtest_fortrandll
                                libtest_cstubdll,     libtestD
                                
      testhdf5_fortran:         hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         libtest,
                                libtest_fortran,      libtest_fortran_lib

      testhdf5_fortrandll:      hdf5_f90cstubdll,     hdf5_fortrandll,
                                hdf5dll,              libtest_fortrandll
                                libtest_cstubdll,     libtestD



      hl_test_image_fortran:    hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         hdf5_hl,
                                hdf5_hl_fortran,      hdf5_hl_fortran_lib

      hl_test_image_fortrandll: hdf5dll,              hdf5_hldll,
                                hdf5_f90cstubdll,     hdf5_fortrandll,
                                hdf5_hl_f90cstubdll,  hdf5_hl_fortrandll
      
      hl_test_lite_fortran:     hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         hdf5_hl,
                                hdf5_hl_fortran,      hdf5_hl_fortran_lib

      hl_test_lite_fortrandll:  hdf5dll,              hdf5_hldll,
                                hdf5_f90cstubdll,     hdf5_fortrandll,
                                hdf5_hl_f90cstubdll,  hdf5_hl_fortrandll

      hl_test_table_fortran:    hdf5,                 hdf5_f90cstub,
                                hdf5_fortran,         hdf5_hl,
                                hdf5_hl_fortran,      hdf5_hl_fortran_lib
      
      hl_test_table_fortrandll:hdf5dll,               hdf5_hldll,
                               hdf5_f90cstubdll,      hdf5_fortrandll,
                               hdf5_hl_f90cstubdll,   hdf5_hl_fortrandll



      1.4 Building HDF5 C/C++/Fortran Libraries and Tools

      Select "Build", then Select "Configuration Manager".

      Select "Debug" or "Release"

      Disable ttsafedll


      Select "ok". Select "Build" -> "Build" or "Rebuild All" to
      build Debug or Release version of HDF5 C, C++, fortran
      Library using Intel fortran 9.1 Compiler with .Net 2003 or .Net 2005.

========================================================================
       Part II. Test HDF5 Static and High Level Fortran Library
========================================================================

    We provide 2 options for users to test HDF5 libraries and tools.

       Option 1: Automatic testings

       HDF5 comes with various test suites, all of which can be tested
       with hdf5check.bat batch file in c:\MyHDFstuff\hdf5 directory.

       hdf5check batch file can used to test HDF libraries with Fortran with
       the following options:

          hdf5check enablefortran    test HDF5 C/FORTRAN libraries and
                                     tools


          hdf5check enableall        test HDF5 C/C++/FORTRAN libraries
                                     and tools
                                     To use this option, HDF5 C++ and
                                     Fortran libraries must have been
                                     built.

       Invoke a command prompt window and run hdf5check with appropriate
       option.

       Test results are saved in two files:

          c:\MyHDFstuff\hdf5\check_results.txt

          c:\MyHDFstuff\hdf5\tests_results.txt.

       In general, you only need to check tests_results.txt.  If all the
       tests passed, then you do not have to check check_results.txt.
       If some tests failed, check check_results.txt can help you
       figure out what was wrong.

       
       Option 2: Step-by-step HDF5 libraries and tools testings

       Note: This section provides step-by-step instructions for testing the
       Fortran librariy and tools only.  To test the rest of the HDF5 library
       and tools, please see Section II, Step 2 of Install_Windowx.txt.
       
       
       a. Test HDF5 Static Fortran Library

       Go to directory c:\myHDFstuff\hdf5\fortran\test, Run batch file
       testhdf5_fortran.bat with the following two options to test
       fortran static library

         testhdf5_fortran release >> "Your output file name"
         testhdf5_fortran debug   >> "Your output file name"

       Check your output files, there should be no "failures" at all.

       b. Test HDF5 High Level Fortran Library

       Go to directory c:\myHDFstuff\hdf5\hl\fortran\test, Run batch file
       testhdf5_fortran.bat with the following two options to test
       fortran static library

            test_hdf5_hl_fortran release >> "Your output file name"
            test_hdf5_hl_fortran debug   >> "Your output file name"

       Check your output files, there should be no "failures" at all.

========================================================================
     Part III. (Optional) Build HDF5 Fortan and HL Fortran Examples
========================================================================
  
        Note: This section only covers building Fortran and HL Fortran examples.
        For other examples, please see Section III of Install_Windowx.txt.
        
        To build and test HDF5 Fortran example:
        ---------------------------------------

           1. Invoke the Intel Fortran Compiler 9.1 or above under Microsoft
              Visual Studio development environment, go to "File" and select
              the "Open Workspace" option.

              Then open the workspace
              c:\MyHDFstuff\hdf5\windows\fortran\examples\allf90examples\allf90examples.dsw.

           2. Select "Build", then Select "Set Active Configuration".

            2.1 To build debug versions of Fortran examples.

                In "Project configurations", select "allf90examples -- Win32 Debug",
                select "ok". Select "Build" -> "Build" or "Rebuild All" to
                build debug version of project "allf90examples".

            2.2 To build release versions of Fortran examples.

                In "Project configurations", select "allf90examples -- Win32 Release",
                select "ok". Select "Build" -> "Build" or "Rebuild All" to
                build release version of project "allf90examples".

           When the debug build or release build is done, there should be the
           following subdirectories in c:\MyHDFstuff\hdf5\fortran\examples\

                  attreexampletest
                  attreexampletestdll
                  compoundtest
                  compoundtestdll
                  dsetexampletest
                  dsetexampletestdll
                  fileexampletest
                  fileexampletestdll
                  groupexampletest
                  groupexampletestdll
                  grpdsetexampletest
                  grpdsetexampletestdll
                  grpittest
                  grpittestdll
                  grpsexampletest
                  grpsexampletestdll
                  hyperslabtest
                  hyperslabtestdll
                  mountexampletest
                  mountexampletest
                  refobjexampletest
                  refobjexampletestdll
                  refregexampletest
                  refregexampletestdll
                  rwdsetexampletest
                  rwdsetexampletestdll
                  selecteletest
                  selecteletestdll

           3. Invoke a command prompt window and run the batch file
              Installf90Examples.bat which resides in the top level directory
              (c:\MyHDFstuff\hdf5).  This file creates 4 new directories,
              f90examplesREL, f90examplesRELDLL, f90examplesDBG, and
              f90examplesDBGDLL, in the c:\MyHDFstuff\fortran\examples directory
              and places all the executables in it.  Both the release and debug
              versions of the examples should be built before this step is done.
              
              
        To build and test HDF5 High Level Fortran examples:
        ---------------------------------------------------

           1. Invoke Compaq Visual Fortran 6.6c, open the workspace

            c:\MyHDFstuff\hdf5\windows\hl\fortran\examples\ (continue next line)
              allhlf90examples\allhlf90examples.dsw

           2. Select "Build", then Select "Set Active Configuration".

               2.1 To build debug versions of High Level Fortran examples.
                   In "Project configurations", select
                   "allhlf90examples -- Win32 Debug", select "ok". Select
                   "Build" -> "Build" or "Rebuild All" to build debug version
                   of project "allhlf90examples".

               2.2 To build release versions of Fortran examples.
                   In "Project configurations", select
                   "allhlf90examples -- Win32 Release", select "ok". Select
                   "Build" -> "Build" or "Rebuild All" to build release version
                   of project "allhlf90examples".

              When the debug build or release build is done, there should be the
              following subdirectories in c:\MyHDFstuff\hdf5\hl\fortran\examples

                  ex_lite
                  ex_litedll

        3. Invoke a command prompt window and run the batch file
              Install_hlf90examples.bat which resides in the top level directory
              (c:\MyHDFstuff\hdf5).  This file creates 4 new directories,
              HLf90examplesRELEASE, HLf90examplesRELEASEDLL, HLf90examplesDEBUG,
              and HLf90examplesDEBUGDLL, in the
              c:\MyHDFstuff\hdf5\hl\fortran\examples directory and places all
              the executables in it. Both the release
              and debug versions of the examples should be built before this
              step is done.

           4. We provide a batch file named test_hl_f90examples.bat in
              c:\MyHDFstuff\hdf5\hl\fortran\examples directory for you to test
              HDF5 high level fortran examples.

              test_hl_f90examples.bat batch file has 4 options:

                 Options                          purpose

                 test_hl_f90examples release      -- for release version

                 test_hl_f90examples release dll  -- for release DLL version

                 test_hl_f90examples debug        -- for debug version

                 test_hl_f90examples debug dll    -- for debug DLL version

              Invoke a command prompt window and run test_hl_f90examples with
              appropriate options.

              When you run "test_hl_f90examples release", the output will look
              like:

                  release  version of High Level Fortran examples     PASSED

              Similar messages should be generated with another three options
              If the high level Fortran examples are built successfully.

      

***********************************************************************    
Please send email to help@hdfgroup.org for further assistance.    
          
