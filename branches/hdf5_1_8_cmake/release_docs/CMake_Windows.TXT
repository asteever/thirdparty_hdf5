************************************************************************
* Build and Install HDF5 C/C++ Library with CMake on Windows           *
************************************************************************

Notes: This short instruction is written for users who want to quickly build 
       HDF5 library and tools from the HDF5 source code package using the CMake
       tools on Windows.
         
       For detailed HDF5 build and install information, or if you have trouble 
       following any steps in the instructions, please refer to 
       INSTALL_Windows.txt for further information.
      
       For users who would like to build and test HDF5 package from the
       command line, please refer to INSTALL_Windows_From_Command_Line.txt.
       
       Notes:
       
         1. CMake is being introduced in this release as early-release. While we
            have attempted to provide error-free files, please understand that
            this development with CMake has just began.
            
         2. Fortran shared libraries have build issues.
            
         3. Testing of some tools have issues.

========================================================================
                            Preconditions                                                           
========================================================================                          

   1. We suggest you obtain the latest CMake for windows from the Kitware
      web site. The HDF5 1.8.x product requires CMake version 2.8.                     
                                                                         
      If you plan to use Zlib or Szip, download the packages.  You 
      also need to read Section V in INSTALL_Windows.txt.                           
                                                                         
      Invoke Microsoft Visual Studio and go to "Tools" and select "Options". In 
      the left pane of  "Option" window poped up, choose and expand "Projects", 
      Click on "VC++ Directories".  In the right pane, Find the box "Show 
      directories for", choose "Include files", if you can not find your Zlib 
      and Szip header path (for example, c:\zlib125\include, c:\szip\include)
      from the directory list, add the header path (c:\zlib125\include, 
      c:\szip\include) to the included directories.                                                
                                                                         
      Find the box "Show directories for", choose "Library files", If you cannot 
      find your Zlib and Szip library path (for example, c:\zlib125\dll, 
      c:\szip\dll) from the directory list, add the library path 
      (c:\zlib125\dll, c:\szip\dll) to the library directories.            

========================================================================
          Building HDF5 C/C++ Libraries with CMake
========================================================================

   1. Run CMake

      The CMake executable is name "cmake-gui.exe" and should be available in
      your Start menu. Specify the source and build directories. It is 
      recommemded that you choose a build directory different then the source
      directory (for example, if the source is at c:\MyHDFstuff\hdf5, then
      use c:\MyHDFstuff\hdf5\build). 

   2. Configure the cache settings

      Click the Configure button. If this is the first time you are 
      running cmake-gui in this directory, you will be prompted for the 
      generator you wish to use (for example, Visual Studio 9 2008). CMake
      will read in the CMakeLists.txt files from the source directory and 
      display options for the HDF5 project. After the first configure you 
      can adjust the cache settings and/or specify locations of other programs.
      Any conflicts or new values will be highlighted by the configure
      process in red. Once you are happy with all the settings, click the
      Generate button to produce the appropriate build files (if you are using 
      a Visual Studio generator, solution and project files will be created).


   3. Build HDF5
   
      You can build HDF5 using either the Visual Studio Environment or the command line.

      3.1 If you wish to use the Visual Studio environment, open the solution file
          in the build directory.
      
      3.2 To build from the command line, navigate to the build directory and
          execute the following;
          
              cmake --build {path to source} --config {Debug | Release}                                                                                          
             

   4. Test HDF5.

      To test the build, navigate to the build directory and execute;
      
              ctest .
              
   5. The files that support building HDF5 with CMake are all the files in the Resources
      folder, the CMakeLists.txt files in each source folder, and two additional files, 
      ConfigureChecks.cmake and CTestConfig.cmake. The CTestConfig.cmake is specific to 
      the internal testing performed by The HDF Group. It should be altered for the users
      installation and needs.

   6. More information about using CMake can be found at the KitWare site.


************************************************************************

Need further assistance, send email to help@hdfgroup.org

